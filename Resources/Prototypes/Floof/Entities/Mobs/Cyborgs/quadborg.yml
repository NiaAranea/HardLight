- type: entity
  id: BorgChassisQuad
  parent: BaseBorgChassisNT
  components:
  - type: Body
    prototype: Quadborg
  - type: Inventory
    templateId: borgquad #Hardlight - Changes Quadborgs over to use our armor slots
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadsprite
      map: ["movement"]
    - state: quadspritel
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriter
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadsprite_moving
    noMovementLayers:
      movement:
        state: quadsprite
  - type: Stripping
  - type: Strap #Hardlight. Enables buckling to borgs
    blacklist: # Hardlight. Stop crashing the damned clients and server!
      components:
      - BorgChassis
    position: Stand
    buckleOffset: "0,-0.2"
    buckleSelfDoafterTime: 4.5 # people attempting to buckle to the borg will have a doafter
  - type: Sanitized
  - type: Hands
  # - type: Cuffable # Removed due to not having a cuffed sprite, throwing errors.
  - type: ComplexInteraction
  #- type: IdExaminable #HL. These have borg hands and ID slots again!
  - type: IntrinsicRadioTransmitter
    channels:
    - Security
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Security
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 4
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - XenoborgModuleGeneric
      - BorgModuleSecurity
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
    hasMindState: quadspritel
    noMindState: quadspriter
  - type: BorgTransponder
    sprite:
      sprite: Floof/Mobs/Silicon/quad.rsi
      state: quadsprite
    name: cyborg
  - type: Construction
    node: cyborg
  - type: Speech
    speechVerb: Robotic
  - type: LayingDown
  - type: AccessReader
    access: [["Security"], ["Armory"], ["Command"]]
  - type: SiliconLawProvider
    laws: Qborg
  - type: LeashAnchor # Floofstation
  - type: InteractionPopup  # Hardlight change
    interactSuccessString: petting-success-generic-cyborg
    interactFailureString: petting-failure-generic-cyborg
    interactSuccessSound:
      path: /Audio/Ambience/Objects/periodic_beep.ogg
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadsprite
    stateOn: quadspriteballz
    movementStateOff: quadsprite_moving
    movementStateOn: quadsprite_movingballz

- type: entity
  id: BorgChassisQuadSec
  parent: [BorgChassisQuad, ShowSecurityIcons]
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadsprite
      map: ["movement"]
    - state: quadspritel
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriter
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadsprite_moving
    noMovementLayers:
      movement:
        state: quadsprite
  - type: IntrinsicRadioTransmitter
    channels:
    - Security
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Security
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 4
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - XenoborgModuleGeneric
      - BorgModuleSecurity
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
    hasMindState: quadspritel
    noMindState: quadspriter
  - type: AccessReader
    access: [["Security"], ["Armory"], ["Command"]]
  - type: SiliconLawProvider
    laws: Qborg
  - type: FlashImmunity
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadspritesec
    stateOn: quadspritesecballz
    movementStateOff: quadspritesec_moving
    movementStateOn: quadspritesec_movingballz

- type: entity
  id: SyndiQuad
  parent: [BorgChassisQuad, BaseBorgChassisSyndicate]
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: SyndQuad
      map: ["movement"]
    - state: SyndQuadl
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: SyndQuadr
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: SyndQuad_moving
    noMovementLayers:
      movement:
        state: SyndQuad
  - type: IntrinsicRadioTransmitter
    channels:
    - Syndicate
    - Binary
    - Common
  - type: ActiveRadio
    channels:
    - Syndicate
    - Binary
    - Common
  - type: NpcFactionMember
    factions:
    - Syndicate
  - type: BorgChassis
    maxModules: 8
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleSecurity
      - BorgModuleMedical
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: SyndQuadl
    noMindState: SyndQuadr
  - type: Access #HL
    tags:  #HL
    - SyndicateAgent #HL
    - NuclearOperative #HL
  - type: AccessReader
    access: [["NuclearOperative"], ["SyndicateAgent"], ["Mercenary"]]
  - type: BorgTransponder
    sprite:
      sprite: Floof/Mobs/Silicon/quad.rsi
      state: SyndQuad
    name: cyborg
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: SyndQuad
    stateOn: SyndQuadballz
    movementStateOff: SyndQuad_moving
    movementStateOn: SyndQuad_movingballz
  # Note: No toggle added here; no provided SyndQuad ballz states.

- type: entity
  id: BorgChassisQuadCC
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadspriteCC
      map: ["movement"]
    - state: quadspritel
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriter
      shader: unshaded
      map: ["light"]
      visible: false
  - type: IntrinsicRadioTransmitter
    channels:
    - ColCom #HL
    - Command
    - Security
    - Supply
    - Service
    - Medical
    - Engineering
    - Science
    - Binary
    - Common
  - type: ActiveRadio
    channels:
    - ColCom #HL
    - Command
    - Security
    - Supply
    - Service
    - Medical
    - Engineering
    - Science
    - Binary
    - Common
  - type: BorgChassis
    maxModules: 12 #HL
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleCargo
      - BorgModuleEngineering
      - BorgModuleMedical
      - BorgModuleSecurity
      - BorgModuleScience
      - BorgModuleService
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - BorgModuleJanitor
      - XenoborgModuleGeneric
  - type: Access #HL
    tags: #HL
    - CentralCommand #HL
  - type: AccessReader
    access: [["Security"], ["Armory"], ["Command"], ["CentralCommand"]]
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadspriteCC_moving
    noMovementLayers:
      movement:
        state: quadspriteCC
  - type: SiliconLawProvider
    laws: ColComm
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadspriteCC
    stateOn: quadspriteCCballz
    movementStateOff: quadspriteCC_moving
    movementStateOn: quadspriteCC_movingballz

- type: entity
  id: BorgChassisQuadsalv
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadspritesalv
      map: ["movement"]
    - state: quadspritesalvl
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspritesalvr
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadspritesalv_moving
    noMovementLayers:
      movement:
        state: quadspritesalv
  - type: IntrinsicRadioTransmitter
    channels:
    - Supply
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Supply
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 6
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleCargo
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: quadspritesalvl
    noMindState: quadspritesalvr
  - type: AccessReader
    access: [["Cargo"], ["Salvage"], ["Command"], ["Research"], ["Maintenance"]]
  - type: SiliconLawProvider
    laws: Corporate
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadspritesalv
    stateOn: quadspritesalvballz
    movementStateOff: quadspritesalv_moving
    movementStateOn: quadspritesalv_movingballz

- type: entity
  id: BorgChassisQuadserv
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadspriteserv
      map: ["movement"]
    - state: quadspriteservl
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriteservr
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadspriteserv_moving
    noMovementLayers:
      movement:
        state: quadspriteserv
  - type: IntrinsicRadioTransmitter
    channels:
    - Service
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Service
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 7
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleService
      - BorgModuleJanitor #HL
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: quadspriteservl
    noMindState: quadspriteservr
  - type: AccessReader
    access: [["Cargo"], ["Service"], ["Command"], ["Research"], ["Maintenance"]]
  - type: SiliconLawProvider
    laws: StationEfficiency
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadspriteserv
    stateOn: quadspriteservballz
    movementStateOff: quadspriteserv_moving
    movementStateOn: quadspriteserv_movingballz


- type: entity
  id: BorgChassisQuadEngineer
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: engieborg
      map: ["movement"]
    - state: engieborgl
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: engieborgr
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: engieborg_moving
    noMovementLayers:
      movement:
        state: engieborg
  - type: IntrinsicRadioTransmitter
    channels:
    - Service
    - Binary
    - Common
    - Science
    - Engineering
  - type: ActiveRadio
    channels:
    - Service
    - Binary
    - Common
    - Science
    - Engineering
  - type: BorgChassis
    maxModules: 7
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleEngineering
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: engieborgl
    noMindState: engieborgr
  - type: AccessReader
    access: [["Cargo"], ["Service"], ["Command"], ["Research"], ["Maintenance"], ["Engineering"]]
  - type: SiliconLawProvider
    laws: StationEfficiency
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: engieborg
    stateOn: engieborgballz
    movementStateOff: engieborg_moving
    movementStateOn: engieborg_movingballz
  # Note: No toggle added here; no provided engieborg ballz states.

- type: entity
  id: BorgChassisQuadmed
  parent: [BorgChassisQuad, ShowMedicalIcons]
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: quadspritemed
      map: ["movement"]
    - state: quadspritemedl
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspritemedr
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: quadspritemed_moving
    noMovementLayers:
      movement:
        state: quadspritemed
  - type: IntrinsicRadioTransmitter
    channels:
    - Medical
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Medical
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 6
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleMedical
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: quadspritemedl
    noMindState: quadspritemedr
  - type: AccessReader
    access: [["Medical"], ["Salvage"], ["Command"], ["Research"], ["Maintenance"]]
  - type: SiliconLawProvider
    laws: Medical
  - type: SolutionScanner
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: quadspritemed
    stateOn: quadspritemedballz
    movementStateOff: quadspritemed_moving
    movementStateOn: quadspritemed_movingballz
  # - type: LanguageKnowledge
    # speaks:
    # - TauCetiBasic
    # - SolCommon
    # - Tradeband
    # - Freespeak
    # - Elyran
    # - RobotTalk
    # - Sign
    # understands:
    # - TauCetiBasic
    # - SolCommon
    # - Tradeband
    # - Freespeak
    # - Elyran
    # - RobotTalk
    # - Sign

- type: entity
  id: BorgChassisApex
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: Apex
      map: ["movement"]
    - state: quadspritel
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriter
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: apex_moving
    noMovementLayers:
      movement:
        state: Apex
  - type: IntrinsicRadioTransmitter
    channels:
    - Medical
    - Supply
    - Service
    - Security
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Medical
    - Supply
    - Service
    - Security
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 10
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleMedical
      - BorgModuleService
      - BorgModuleSecurity
      - BorgModuleCargo
      - BorgModuleEngineering
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: quadspritel
    noMindState: quadspriter
  - type: AccessReader
    access: [["Medical"], ["Salvage"], ["Service"], ["Security"], ["Command"], ["Research"], ["Mercenary"]]
  - type: SiliconLawProvider
    laws: Qborg
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: Apex
    stateOn: Apexballz
    movementStateOff: apex_moving
    movementStateOn: Apex_movingballz

- type: entity
  id: BorgChassisChip
  parent: BorgChassisQuad
  components:
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: Chip
      map: ["movement"]
    - state: quadspritechip
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: quadspriter
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteMovement
    movementLayers:
      movement:
        state: chip_moving
    noMovementLayers:
      movement:
        state: Chip
  - type: IntrinsicRadioTransmitter
    channels:
    - Medical
    - Supply
    - Service
    - Security
    - Binary
    - Common
    - Science
  - type: ActiveRadio
    channels:
    - Medical
    - Supply
    - Service
    - Security
    - Binary
    - Common
    - Science
  - type: BorgChassis
    maxModules: 10
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleMedical
      - BorgModuleService
      - BorgModuleSecurity
      - BorgModuleCargo
      - BorgModuleEngineering
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - XenoborgModuleGeneric
    hasMindState: quadspritel
    noMindState: quadspriter
  - type: AccessReader
    access: [["Medical"], ["Salvage"], ["Service"], ["Security"], ["Command"], ["Research"], ["Mercenary"]]
  - type: SiliconLawProvider
    laws: Qborg
  # Note: No toggle added here; no provided Chip ballz states.

- type: entity
  parent: [ BaseXenoborgChassis, BaseXenoborgTransponder ]
  id: Xenoquad
  name: Quad Xenoborg
  suffix: with brain
  description: A man-machine hybrid that aims to replicate itself. They love extracting brains to insert into fresh Xenoborg chassis to grow their army. This one seems to have 4 legs and additional assets. 
  components:
  - type: Construction
    node: start
  - type: BorgTransponder
    name: Quad xenoborg
    sprite:
      sprite: Floof/Mobs/Silicon/quad.rsi
      state: XenoQuad
  - type: BorgChassis
    maxModules: 10
    hasMindState: XenoQuad_e
    noMindState: XenoQuad_e_r
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - XenoborgModuleGeneric
      - BorgModuleSecurity
      - BorgModuleSyndicate
      - BorgModuleSyndicateAssault
      - BorgModuleMedical
      - BorgModuleEngineering
      - BorgModuleScience
  - type: ContainerFill
    containers:
      borg_brain:
      - MMIFilled
      borg_module:
      - XenoborgModuleBasic
      - BorgModuleKill
      - BorgModuleConstruction
      - BorgModuleRCD
      - BorgModuleTool
      - BorgModuleAdvancedSurgery
      - BorgModuleOperative
      - XenoborgModuleFireExtinguisher
  - type: ShowHealthBars
    damageContainers:
    - Inorganic
    - Silicon
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellHigh
  - type: Sprite
    sprite: Floof/Mobs/Silicon/quad.rsi
    scale: 0.7, 0.7
    layers:
    - state: XenoQuad
      map: ["movement"]
    - state: XenoQuad_e
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: XenoQuad_e
      shader: unshaded
      map: ["light"]
      visible: false
  - type: SpriteStateToggle
    spriteLayer: movement
    stateOff: XenoQuad
    stateOn: XenoQuadballz
    movementStateOff: XenoQuad_moving
    movementStateOn: XenoQuad_movingballz
  - type: SpriteMovement
    movementLayers:
      movement:
        state: XenoQuad_moving
    noMovementLayers:
      movement:
        state: XenoQuad
